<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulario Reuni√≥n Unihouser</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
  h1 { text-align: center; color: #ff6600; }
  .form-section { background: white; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  label { font-weight: bold; display: block; margin-top: 10px; }
  input, select, textarea { width: 100%; padding: 8px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px; }
  textarea { resize: vertical; }
  .actions { text-align: center; margin-top: 20px; }
  button { background: #ff6600; color: white; border: none; padding: 10px 15px; margin: 5px; border-radius: 6px; cursor: pointer; font-size: 14px; }
  button:hover { background: #e65c00; }
  .result { background: #eef; padding: 10px; margin-top: 10px; border-radius: 6px; }
</style>
</head>
<body>

<h1>üìù Reuni√≥n con Inversor</h1>

<form id="reunionForm">

  <!-- Datos personales -->
  <div class="form-section">
    <h2>Datos personales</h2>
    <label>Nombre y apellidos</label>
    <input type="text" id="nombre">
    <label>Email</label>
    <input type="email" id="email">
    <label>Tel√©fono</label>
    <input type="text" id="telefono">
    <label>Fecha reuni√≥n</label>
    <input type="date" id="fechaReunion" value="">
    <label>Observaciones iniciales</label>
    <textarea id="observaciones"></textarea>
  </div>

  <!-- Presupuesto -->
  <div class="form-section">
    <h2>Presupuesto & Financiaci√≥n</h2>
    <label>Presupuesto total (‚Ç¨)</label>
    <input type="number" id="presupuesto" oninput="calcular()">
    <label>% Financiaci√≥n</label>
    <input type="number" id="porcFinanciacion" value="80" oninput="calcular()">
    <label>Hipoteca estimada (‚Ç¨)</label>
    <input type="text" id="hipoteca" readonly>
    <label>Aportaci√≥n propia (‚Ç¨)</label>
    <input type="text" id="aportacion" readonly>
    <label>Precio m√°x. con gastos (ITP+notar√≠a) (‚Ç¨)</label>
    <input type="text" id="precioMax" readonly>
  </div>

  <!-- Objetivos -->
  <div class="form-section">
    <h2>Objetivos del inversor</h2>
    <label>Rentabilidad objetivo (%)</label>
    <input type="number" id="rentabilidad" value="8" oninput="calcular()">
    <label>Estrategia preferida</label>
    <select id="estrategia">
      <option value="habitaciones">Alquiler por habitaciones</option>
      <option value="tradicional">Alquiler tradicional</option>
      <option value="mixto">Mixto</option>
    </select>
    <label>Zonas preferidas</label>
    <input type="text" id="zonas">
    <label>Horizonte inversi√≥n (a√±os)</label>
    <input type="number" id="horizonte">
    <div class="result">
      <b>Alquiler mensual necesario (‚Ç¨):</b> <span id="alquilerNecesario">0</span>
    </div>
  </div>

  <!-- Observaciones reuni√≥n -->
  <div class="form-section">
    <h2>Observaciones</h2>
    <textarea id="obsReunion" rows="5"></textarea>
    <label><input type="checkbox"> Primera inversi√≥n</label>
    <label><input type="checkbox"> Ya ha invertido antes</label>
    <label><input type="checkbox"> Prefiere rentabilidad estable</label>
    <label><input type="checkbox"> Busca revalorizaci√≥n</label>
  </div>

  <!-- Acciones -->
  <div class="actions">
    <button type="button" onclick="enviarMail()">üìß Enviar Email</button>
    <button type="button" onclick="generarActa()">üìÑ Generar Acta PDF</button>
    <button type="button" onclick="generarContrato()">üìù Generar Contrato PSI</button>
    <button type="button" onclick="avanzarFase()">üü¢ Avanzar</button>
    <button type="button" onclick="descartar()">üî¥ Descartar</button>
    <button type="button" onclick="eliminar()">üóëÔ∏è Eliminar</button>
  </div>

</form>

<script>
function calcular(){
  let presupuesto = parseFloat(document.getElementById('presupuesto').value) || 0;
  let porcFin = parseFloat(document.getElementById('porcFinanciacion').value) || 0;
  let rent = parseFloat(document.getElementById('rentabilidad').value) || 0;

  let hipoteca = presupuesto * (porcFin/100);
  let aportacion = presupuesto - hipoteca;
  let precioMax = presupuesto * 1.10; // gastos ~10%
  let alquilerNecesario = (presupuesto * (rent/100)) / 12;

  document.getElementById('hipoteca').value = hipoteca.toFixed(2);
  document.getElementById('aportacion').value = aportacion.toFixed(2);
  document.getElementById('precioMax').value = precioMax.toFixed(2);
  document.getElementById('alquilerNecesario').innerText = alquilerNecesario.toFixed(2);
}

function enviarMail(){
  let nombre = document.getElementById('nombre').value;
  alert("Se enviar√° un mail de bienvenida a " + nombre);
  // Aqu√≠ ir√≠a la l√≥gica real de env√≠o por API/email server
}

function generarActa(){
  alert("Generando Acta en PDF...");
  // Aqu√≠ integramos jsPDF o similar
}

function generarContrato(){
  alert("Generando contrato PSI con datos del cliente...");
  // Aqu√≠ integramos plantilla Word/PDF
}

function avanzarFase(){
  alert("Cliente avanza a siguiente fase.");
}

function descartar(){
  alert("Cliente marcado como DESCARTADO (se guarda en hist√≥rico).");
}

function eliminar(){
  alert("Cliente ELIMINADO (no cuenta en estad√≠sticas).");
}
</script>

</body>
</html>
