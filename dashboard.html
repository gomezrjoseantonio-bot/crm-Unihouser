<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Unihouser â€” Dashboard</title>
<link rel="stylesheet" href="css/style.css">
<style>
/* Ajustes suaves sobre tu style.css */
.kpi-grid{display:grid;gap:12px;grid-template-columns:repeat(2,1fr)}
@media(min-width:920px){.kpi-grid{grid-template-columns:repeat(6,1fr)}}
.kpi-card{background:#0f1214;border:1px solid #2b343a;border-radius:14px;padding:12px}
.kpi-card .lab{font-size:12px;color:var(--muted)}
.kpi-card .val{font-size:22px;font-weight:800;margin-top:4px}

.filter-bar{display:grid;gap:10px;grid-template-columns:1fr}
@media(min-width:900px){.filter-bar{grid-template-columns:1.2fr .8fr .8fr 1fr .8fr .6fr}}
.filter-bar .btn{height:44px}

.kanban{display:grid;gap:12px;grid-template-columns:1fr}
@media(min-width:1100px){.kanban{grid-template-columns:repeat(5,1fr)}}
.column{background:var(--card);border:1px solid #232a2f;border-radius:14px;min-height:240px;padding:8px 8px 4px}
.column h4{margin:2px 6px 8px}
.card-mini{background:#0f1112;border:1px solid #2a3238;border-radius:12px;padding:10px;margin:6px 4px}
.badge{display:inline-block;padding:3px 8px;border-radius:999px;font-weight:700;font-size:12px;background:#0b0d0e;color:#9aa5af;border:1px solid #2b343a}
.tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
.tag{background:#151a1e;border:1px solid #2b343a;border-radius:999px;padding:2px 8px;font-size:12px; color:#cbd5e1}
.actions-row{display:flex;gap:8px;margin-top:8px}
.icon-btn{background:#14191d;border:1px solid #2a3238;border-radius:10px;padding:8px;cursor:pointer}
.icon-btn:hover{border-color:#3a4248}

.table-wrap{margin-top:10px}
.icon{font-style:normal}

.drawer{position:fixed;right:0;top:0;bottom:0;width:420px;max-width:92vw;background:var(--card);border-left:1px solid #2b343a;box-shadow:var(--shadow);transform:translateX(100%);transition:.25s;z-index:50}
.drawer.open{transform:translateX(0)}
.drawer-header{display:flex;justify-content:space-between;align-items:center;padding:14px;border-bottom:1px solid #2b343a}
.drawer-body{padding:14px}
.pills{display:flex;gap:8px;flex-wrap:wrap}
.pill{padding:6px 10px;border-radius:999px;border:1px solid #2b343a;background:#0f1112}
</style>
</head>
<body>
<header class="topbar">
  <div class="container flex between center">
    <div class="brand flex center"><div class="title">Unihouser â€” CRM & BuyBox</div></div>
    <nav class="nav">
      <a href="evaluar.html">Evaluar</a>
      <a href="evaluaciones.html">Evaluaciones</a>
      <a href="prospectos.html">Prospectos</a>
      <a href="dashboard.html" class="active">Dashboard</a>
      <a href="configuracion.html">ConfiguraciÃ³n</a>
    </nav>
  </div>
</header>

<main class="container">

  <!-- KPIs -->
  <section class="kpi-grid">
    <div class="kpi-card"><div class="lab">Prospectos activos</div><div class="val" id="k_total">â€”</div></div>
    <div class="kpi-card"><div class="lab">Contacto</div><div class="val" id="k_contacto">â€”</div></div>
    <div class="kpi-card"><div class="lab">ReuniÃ³n</div><div class="val" id="k_reunion">â€”</div></div>
    <div class="kpi-card"><div class="lab">BÃºsqueda</div><div class="val" id="k_busqueda">â€”</div></div>
    <div class="kpi-card"><div class="lab">Compraventa</div><div class="val" id="k_compra">â€”</div></div>
    <div class="kpi-card"><div class="lab">NotarÃ­a</div><div class="val" id="k_notaria">â€”</div></div>
  </section>

  <!-- Filtros -->
  <section class="card" style="margin-top:12px">
    <h2 style="margin:0 0 10px">Filtros</h2>
    <div class="filter-bar">
      <div class="field"><label>Buscar</label><input id="f_q" placeholder="Nombre, email o telÃ©fono"></div>
      <div class="field"><label>Fase</label>
        <select id="f_fase">
          <option value="">Todas</option>
          <option value="CONTACTO">Contacto</option>
          <option value="REUNION">ReuniÃ³n</option>
          <option value="BUSQUEDA">BÃºsqueda</option>
          <option value="COMPRAVENTA">Compraventa</option>
          <option value="NOTARIA">NotarÃ­a</option>
        </select>
      </div>
      <div class="field"><label>Tipo</label>
        <select id="f_tipo"><option value="">Todos</option><option>Tradicional</option><option>Habitaciones</option></select>
      </div>
      <div class="field"><label>Localidades contiene</label><input id="f_loc" placeholder="Oviedo, GijÃ³nâ€¦"></div>
      <div class="field"><label>FinanciaciÃ³n</label>
        <select id="f_fin"><option value="">Todas</option><option>SÃ­</option><option>No</option></select>
      </div>
      <div class="actions"><button class="btn" id="f_clear">Limpiar</button><button class="btn primary" id="f_apply">Filtrar</button></div>
    </div>
  </section>

  <!-- Kanban -->
  <section class="kanban" id="kanban">
    <!-- columnas generadas por JS con datos reales; aquÃ­ un placeholder estÃ¡tico -->
    <div class="column"><h4>Contacto</h4><div class="card-mini">
      <div class="flex between"><div><strong>â€”</strong></div><span class="badge">â€”</span></div>
      <div class="tags"><span class="tag">â€”</span></div>
      <div class="actions-row">
        <button class="icon-btn" title="Email"><span class="icon">âœ‰</span></button>
        <button class="icon-btn" title="WhatsApp"><span class="icon">ðŸ—¨</span></button>
        <button class="icon-btn open-drawer" title="Abrir"><span class="icon">âž¤</span></button>
      </div>
    </div></div>
    <div class="column"><h4>ReuniÃ³n</h4></div>
    <div class="column"><h4>BÃºsqueda</h4></div>
    <div class="column"><h4>Compraventa</h4></div>
    <div class="column"><h4>NotarÃ­a</h4></div>
  </section>

  <!-- Tabla -->
  <section class="table-wrap card">
    <h2 style="margin:0 0 10px">Listado</h2>
    <table class="table" id="tab">
      <thead><tr>
        <th>Nombre</th><th>Email</th><th>TelÃ©fono</th>
        <th>Fase</th><th>Subestado</th><th>Tipo</th>
        <th>Localidades</th><th>Objetivo</th><th>Presupuesto</th><th>Acciones</th>
      </tr></thead>
      <tbody id="tbody">
        <tr><td colspan="10" style="text-align:center;color:var(--muted)">Sin datos (se rellenarÃ¡ desde Prospectos)</td></tr>
      </tbody>
    </table>
  </section>
</main>

<!-- Drawer lateral -->
<aside class="drawer" id="drawer">
  <div class="drawer-header">
    <strong id="dv_nombre">Prospecto</strong>
    <button class="btn" id="dv_close">Cerrar</button>
  </div>
  <div class="drawer-body">
    <div class="pills" style="margin-bottom:10px">
      <div class="pill" id="dv_fase">Fase: â€”</div>
      <div class="pill" id="dv_tipo">Tipo: â€”</div>
      <div class="pill" id="dv_obj">Objetivo: â€”</div>
    </div>
    <div class="field"><label>Email</label><input id="dv_email" disabled></div>
    <div class="field"><label>TelÃ©fono</label><input id="dv_tel" disabled></div>
    <div class="field"><label>Localidades</label><input id="dv_locs" disabled></div>
    <div class="actions" style="margin-top:12px">
      <button class="btn">Email</button>
      <button class="btn">WhatsApp</button>
      <button class="btn primary">Avanzar fase</button>
    </div>
  </div>
</aside>

<footer class="foot"><div class="container foot-inner">Â© 2025 Unihouser Â· unihouser.es Â· info@unihouser.es Â· 644 300 200</div></footer>

<script defer src="js/app.js"></script>
<script defer src="js/dashboard.js"></script>
</body>
</html>
