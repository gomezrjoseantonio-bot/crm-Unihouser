<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CRM Unihouser</title>
  <style>
    /* ====== ESTILOS GENERALES ====== */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f6fa;
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #FF6600, #800000);
      color: #fff;
      padding: 15px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    }
    header h1 {
      margin: 0;
      font-size: 22px;
    }
    nav a {
      color: #fff;
      margin-left: 15px;
      text-decoration: none;
      font-weight: 500;
    }
    nav a:hover {
      text-decoration: underline;
    }

    /* ====== CONTENEDOR ====== */
    .container {
      display: flex;
      height: calc(100vh - 60px);
    }

    /* ====== BARRA LATERAL ====== */
    .sidebar {
      width: 280px;
      background: #fff;
      border-right: 1px solid #ddd;
      padding: 20px;
      overflow-y: auto;
    }
    .sidebar h2 {
      font-size: 18px;
      margin-bottom: 10px;
      border-bottom: 2px solid #FF6600;
      padding-bottom: 5px;
    }
    .sidebar section {
      margin-bottom: 25px;
    }
    .sidebar button {
      width: 100%;
      margin: 5px 0;
      padding: 8px;
      border: none;
      background: #FF6600;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    .sidebar button:hover {
      background: #e05600;
    }

    /* ====== MAIN ====== */
    .main {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    /* ====== RESUMEN ====== */
    .summary {
      display: flex;
      justify-content: space-between;
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .summary div {
      text-align: center;
    }
    .summary h3 {
      margin: 0;
      color: #800000;
    }

    /* ====== FUNNEL ====== */
    .funnel {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 15px;
    }
    .phase {
      background: #fff;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .phase h3 {
      font-size: 16px;
      margin: 0 0 10px 0;
      border-bottom: 2px solid #FF6600;
      padding-bottom: 5px;
    }
    .phase ul {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 300px;
      overflow-y: auto;
    }
    .phase li {
      background: #f5f5f5;
      margin: 6px 0;
      padding: 8px;
      border-radius: 6px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .badge {
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 5px;
      color: white;
    }
    .badge.green { background: #28a745; }
    .badge.red { background: #dc3545; }
    .badge.orange { background: #ff6600; }

    /* ====== BOTONES ====== */
    .actions button {
      margin-left: 5px;
      padding: 4px 8px;
      font-size: 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .advance { background: #28a745; color: white; }
    .discard { background: #dc3545; color: white; }
    .delete { background: #6c757d; color: white; }

    /* ====== REUNIONES COLOROGRAMA ====== */
    .soon { background: #d4edda; }
    .upcoming { background: #fff3cd; }
    .far { background: #f8d7da; }
  </style>
</head>
<body>
  <header>
    <h1>CRM Unihouser</h1>
    <nav>
      <a href="#">Evaluar</a>
      <a href="#">Evaluaciones</a>
      <a href="#">Dashboard</a>
      <a href="#">Configuraci√≥n</a>
    </nav>
  </header>

  <div class="container">
    <!-- ====== SIDEBAR ====== -->
    <aside class="sidebar">
      <section>
        <h2>Cliente seleccionado</h2>
        <p><b>Nombre:</b> <span id="clienteNombre">Sergio L√≥pez</span></p>
        <p><b>Tel:</b> <span id="clienteTel">+34 600 123 456</span></p>
        <p><b>Email:</b> <span id="clienteEmail">sergio@correo.com</span></p>
      </section>
      <section>
        <h2>Documentos</h2>
        <button onclick="alert('Generar contrato PDF')">Contrato PDF</button>
        <button onclick="alert('Generar acta reuni√≥n')">Acta reuni√≥n</button>
        <button onclick="alert('Generar propuestas')">Propuestas</button>
        <button onclick="alert('Generar arras')">Arras</button>
      </section>
      <section>
        <h2>Observaciones</h2>
        <textarea style="width:100%; height:100px;" placeholder="Notas de la reuni√≥n..."></textarea>
      </section>
    </aside>

    <!-- ====== MAIN ====== -->
    <main class="main">
      <!-- RESUMEN -->
      <div class="summary">
        <div>
          <h3>Prospectos</h3>
          <p id="countContacto">2</p>
        </div>
        <div>
          <h3>Reuniones</h3>
          <p id="countReunion">2</p>
        </div>
        <div>
          <h3>Contratos</h3>
          <p id="countContrato">1</p>
        </div>
        <div>
          <h3>B√∫squeda</h3>
          <p id="countBusqueda">1</p>
        </div>
        <div>
          <h3>Compraventa</h3>
          <p id="countCompraventa">1</p>
        </div>
        <div>
          <h3>% √âxito</h3>
          <p id="porcentajeExito">60%</p>
        </div>
      </div>

      <!-- FUNNEL -->
      <div class="funnel">
        <!-- CONTACTO -->
        <div class="phase" id="faseContacto">
          <h3>Contacto</h3>
          <ul>
            <li>
              Sergio L√≥pez
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Reuni√≥n')">üü¢</button>
                <button class="discard" onclick="descartar(this)">üî¥</button>
                <button class="delete" onclick="eliminar(this)">üóëÔ∏è</button>
              </div>
            </li>
            <li>
              Juan Pedro
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Reuni√≥n')">üü¢</button>
                <button class="discard" onclick="descartar(this)">üî¥</button>
                <button class="delete" onclick="eliminar(this)">üóëÔ∏è</button>
              </div>
            </li>
          </ul>
        </div>

        <!-- REUNI√ìN -->
        <div class="phase" id="faseReunion">
          <h3>Reuni√≥n</h3>
          <ul>
            <li class="soon">
              09/09/2025 9:15 ‚Äî Sergio L√≥pez
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Contrato')">Enviar contrato</button>
                <button class="discard" onclick="descartar(this)">No interesado</button>
              </div>
            </li>
            <li class="upcoming">
              10/09/2025 9:15 ‚Äî Juan Pedro
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Contrato')">Enviar contrato</button>
                <button class="discard" onclick="descartar(this)">No interesado</button>
              </div>
            </li>
          </ul>
        </div>

        <!-- CONTRATO -->
        <div class="phase" id="faseContrato">
          <h3>Contrato</h3>
          <ul>
            <li>
              Sergio L√≥pez
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'B√∫squeda')">Asignar activos</button>
              </div>
            </li>
          </ul>
        </div>

        <!-- B√öSQUEDA -->
        <div class="phase" id="faseBusqueda">
          <h3>B√∫squeda</h3>
          <ul>
            <li>
              Sergio L√≥pez ‚Äî Activos asignados: 3
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Compraventa')">Avanzar</button>
              </div>
            </li>
          </ul>
        </div>

        <!-- COMPRAVENTA -->
        <div class="phase" id="faseCompraventa">
          <h3>Compraventa</h3>
          <ul>
            <li>
              Sergio L√≥pez ‚Äî Financiaci√≥n
              <div class="actions">
                <button class="advance" onclick="moverFase(this,'Notar√≠a')">Notar√≠a</button>
              </div>
            </li>
          </ul>
        </div>

        <!-- NOTAR√çA -->
        <div class="phase" id="faseNotaria">
          <h3>Notar√≠a</h3>
          <ul>
            <li>
              Sergio L√≥pez ‚Äî √âxito üéâ
            </li>
          </ul>
        </div>
      </div>
    </main>
  </div>

  <script>
    // === L√≥gica de CRM ===
    function moverFase(btn, destino) {
      const li = btn.closest('li');
      const nombre = li.innerText.split("‚Äî")[0].trim();
      li.remove();

      let destinoUl;
      switch(destino) {
        case 'Reuni√≥n': destinoUl = document.querySelector('#faseReunion ul'); break;
        case 'Contrato': destinoUl = document.querySelector('#faseContrato ul'); break;
        case 'B√∫squeda': destinoUl = document.querySelector('#faseBusqueda ul'); break;
        case 'Compraventa': destinoUl = document.querySelector('#faseCompraventa ul'); break;
        case 'Notar√≠a': destinoUl = document.querySelector('#faseNotaria ul'); break;
      }
      if (destinoUl) {
        const nuevo = document.createElement('li');
        nuevo.textContent = nombre + " ‚Äî movido a " + destino;
        destinoUl.appendChild(nuevo);
      }
      actualizarResumen();
    }

    function descartar(btn) {
      const li = btn.closest('li');
      li.querySelector('.actions').innerHTML = '<span class="badge red">Descartado</span>';
      actualizarResumen();
    }

    function eliminar(btn) {
      btn.closest('li').remove();
      actualizarResumen();
    }

    function actualizarResumen() {
      document.getElementById("countContacto").textContent =
        document.querySelectorAll("#faseContacto li").length;
      document.getElementById("countReunion").textContent =
        document.querySelectorAll("#faseReunion li").length;
      document.getElementById("countContrato").textContent =
        document.querySelectorAll("#faseContrato li").length;
      document.getElementById("countBusqueda").textContent =
        document.querySelectorAll("#faseBusqueda li").length;
      document.getElementById("countCompraventa").textContent =
        document.querySelectorAll("#faseCompraventa li").length;
    }
  </script>
</body>
</html>
